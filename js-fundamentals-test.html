
<script type="text/javascript">

const records = [
  { currency: "BTC", quantity: 1 },
  { currency: "ETH", quantity: 9 },
  { currency: "ICP", quantity: 11000 },
]; // => "ICP"

const lastCurrency = (records) => {
  return records[records.length-1].currency
}


console.warn(lastCurrency(records))


const input = [1, 2, 3, 2]; // => 12

const mutilpe = (arr) => {
  return arr.reduce((acc, item) => acc * item,1)
}


console.warn(mutilpe(input))

const ranStr = "aaaccbanantttdf";

const secondChar = (str) => {

 
  const arr = Array.from(ranStr)
  const obj = arr.reduce((acc, item) => {
    if(acc[item]) acc[item] ++;
    else acc[item] = 1;
    return acc 
  }, {})

  let first = [null, 0];
  let second =[null, 0];

  Object.keys(obj).forEach(key => {
    const value = obj[key];
    if(value> first[1]) {
      second = [...first]
      first = [key, value ];

    } else if(value > second[1]) {
       second = [key, value];
    }
  })
  return second;

}


console.warn(secondChar(ranStr))



const total = (arr) => {
  return arr.reduce((acc, item) => {
    if(Array.isArray(item)) {
      return acc + total(item)
    } else{
      return acc + item 
    }
  }, 0)
}

const unorderedList = ["apple", "banana", "cat", "elephant", "dog", "fish"]; // => "dog"
const notInOrder = (arr) => {

  let temp = '';
  for(let item of unorderedList) {
    const res = item > temp;
    if(item < temp) {
      return item
    }
    temp = item;
  }
}


const suffixStr = "ing";
const prefixStr = "feel";

const suffix = (first) => {
  return (second) => {
    return second + first
  }
}

console.warn(suffix(suffixStr)(prefixStr))


const exampleOne = [1, 2, 3]; // => 6
const exampleTw0 = [[1], 2, [3, 5, [4, [5]]]]; // => 20
console.warn(total(exampleOne))

console.warn(total(exampleTw0))




const sampleData = [
  "$10, 000; ETH ;",
  "$100; BTC\n",
  "$11000; BTC;",
  "$2,000,000;NEX;",
  "2400;USDT ",
  "200;USDT",
]; // => e.g. first element is {price: 10000, currency: "ETH"}



const priceCount = (data ) => {
  return data.map(item => {
    const splitedStr = item.split(';');
    const price = parseInt(splitedStr[0].replace(/[$]/g, '').replace(/[,]/g, '').replace(/[ ]/g, ''))
    currency = splitedStr[1].replace(/[\s]/g, '')
    return {price, currency: currency }

  })
}

console.warn(priceCount(sampleData))



const EventEmitter = require("events");
const bot = new EventEmitter();

async function getFinalQty() {
  return new Promise((resolve, reject) => {
    let total = 0;
     bot.on('buy', (num)=> {
        total = total +num;
      })
     bot.on('sell', (num)=> {
        total = total - num;
      })
     bot.on('end', (num)=> {
        resolve(total)
      })
  })
  
 


} // await getFinalQty() should resolve to 13

bot.emit("buy", 2);
bot.emit("hold");
bot.emit("hold");
bot.emit("buy", 5);
bot.emit("hold");
bot.emit("sell", 3);
bot.emit("buy", 9);
bot.emit("end");



















</script>